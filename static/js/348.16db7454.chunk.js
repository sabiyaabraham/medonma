"use strict";(self.webpackChunkmedonma=self.webpackChunkmedonma||[]).push([[348],{1472:(e,t,a)=>{a.d(t,{c:()=>o});const o=function(){const e="https://api.medonma.me/api/v1/",t=async(t,a,o)=>{var n="".concat(e).concat(a);const r=localStorage.getItem("token"),c={"Content-Type":"application/json"};r&&(c.Authorization="Bearer ".concat(r));let s={method:t,headers:c};if("GET"!==t)s.body=JSON.stringify(o);else if(o){const r=new URLSearchParams(o).toString();s={...s,method:t,headers:c},n="".concat(e).concat(a,"?").concat(r)}try{const e=await fetch(n,s);return await e.json()}catch(l){return console.error("Request failed:",l.message),{error:!0,message:l.message}}};return{get:(e,a)=>t("GET",e,a),put:(e,a)=>t("PUT",e,a),post:(e,a)=>t("POST",e,a),del:(e,a)=>t("DELETE",e,a)}}()},348:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var o=a(9060),n=a(7828),r=a(6880),c=a(9e3),s=a(4240),l=a(916),i=a(2128),m=a(3200),d=a(5624),u=a(7256),p=a(784),h=a(2888),g=a(1472),f=a(2496);const x=(0,p.c)(),v=()=>{const[e,t]=(0,o.useState)({email:"",otp:""});(0,o.useEffect)((()=>{const e=localStorage.getItem("email");localStorage.getItem("verify")||(window.location.href="/home"),e&&t((t=>({...t,email:e})))}),[t]);const a=a=>{const{name:o,value:n}=a.target;t({...e,[o]:n})},[p,v]=(0,o.useState)(null),[y,b]=(0,o.useState)(!1),j=(e,t)=>{"clickaway"!==t&&b(!1)};return(0,f.jsx)(h.c,{theme:x,children:(0,f.jsxs)(n.cp,{container:!0,component:"main",sx:{height:"95vh"},children:[(0,f.jsx)(i.cp,{}),(0,f.jsx)(n.cp,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://medonma.me/assets/images/banner1.jpg)",backgroundRepeat:"no-repeat",backgroundColor:e=>"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"}}),(0,f.jsx)(n.cp,{item:!0,xs:6,sm:8,md:5,component:d.c,elevation:6,square:!0,children:(0,f.jsxs)(u.c,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,f.jsx)(r.c,{component:"h1",variant:"h5",children:"Verify otp"}),(0,f.jsx)("hr",{}),(0,f.jsxs)(u.c,{component:"form",noValidate:!0,onSubmit:async a=>{if(a.preventDefault(),e.email){v(null);try{const t=await g.c.post("auth/create",e);t.error?(v(t.message),b(!0)):(localStorage.removeItem("verify"),localStorage.setItem("role",e.role),window.location.href="/"+e.role+"/dashboard")}catch(p){}t({otp:""})}else v("Please provide an email address."),b(!0)},sx:{mt:5},children:[(0,f.jsx)(m.c,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:e.email,onChange:a,autoFocus:!0}),(0,f.jsx)(m.c,{margin:"normal",required:!0,fullWidth:!0,name:"otp",label:"otp",type:"number",value:e.otp,onChange:a,id:"otp",autoComplete:"otp"}),(0,f.jsx)(c.c,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Submit"})]}),(0,f.jsx)(s.c,{open:y,autoHideDuration:6e3,onClose:j,children:(0,f.jsx)(l.c,{elevation:6,variant:"filled",severity:"error",onClose:j,children:p})})]})})]})})}}}]);
//# sourceMappingURL=348.16db7454.chunk.js.map